<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Extract the token from the URL and redirect to the login page with the token
        function getQueryVariable(variable) {
            var query = window.location.href;
            var tokenIndex = query.indexOf('?token=');
            if (tokenIndex === -1) {
                tokenIndex = query.indexOf('&token=');
            }
            if (tokenIndex !== -1) {
                var start = tokenIndex + 7;
                var end = query.indexOf('&', start);
                if (end === -1) {
                    end = query.length;
                }
                return decodeURIComponent(query.substring(start, end));
            }
            console.log('Query variable %s not found', variable);
            return null;
        }    
        const token = getQueryVariable('token');
        if (token) {
            window.location.href = `/login?token=${token}`;
        } else {
            document.body.innerHTML = 'Token is missing';
        }
    </script>
</head>
<body>
    <p>Redirecting...</p>
</body>
</html>
